@model IEnumerable<MvcModal.Models.Album>

@{
    ViewBag.Title = "Albums";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section scripts{
    <script src="@Url.Content("~/Scripts/Album.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/Album.Create.js")" type="text/javascript"></script>

    <script type="text/javascript">
        $(function() {

            var create = {
                dialog: {
                    id: 'div#create-album-dialog',
                    url: '@Url.Action("Create", "Album")',
                },
                button: {
                    create: '.createDialog',
                    submit: '#btnSubmit',
                    cancel: '#btnCancel'
                }
            };

            var parameters = {
                create: create
            };

            var albumHandler = new MvcModal.Album.Handler(parameters);
            albumHandler.init();
        });
    </script>
}

<h2>Albums</h2>

<p>
    @Html.ActionLink("Create new", "Create", null, new { @class = "createDialog" })
</p>

@{
    Html.Partial("_List");
}

